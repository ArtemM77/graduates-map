<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ì–¥–µ –∑–∞–º–æ—Ä–æ–∑–∏—Ç—å —Å–ø–µ—Ä–º—É –∫–æ–±–µ–ª—è?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <!-- ‚úÖ –ª–æ–∫–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ OpenLayers -->
   <link rel="stylesheet" href="https://artemm77.github.io/graduates-map/lib/ol.css">
   <script src="https://artemm77.github.io/graduates-map/lib/ol.js"></script>

  <!-- –°—Ç–∏–ª–∏ pop-up –æ–∫–Ω–∞ -->
  <style>
    .ol-popup {
      position: absolute;
      background-color: white;
      padding: 10px;
      border: 1px solid #ccc;
      bottom: 12px;
      left: -50px;
      min-width: 200px;
      max-width: 85vw;
      font-size: 13px;
      font-family: sans-serif;
      z-index: 100;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    .ol-popup:after, .ol-popup:before {
      top: 100%;
      border: solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;
      pointer-events: none;
    }
    .ol-popup:after {
      border-top-color: white;
      border-width: 10px;
      left: 48px;
      margin-left: -10px;
    }
    .ol-popup:before {
      border-top-color: #ccc;
      border-width: 11px;
      left: 48px;
      margin-left: -11px;
    }
  </style>
</head>
<body>
  <div id="map" style="width: 100%; height: 100vh;"></div>

  <script>
   // –ú–∞—Å—Å–∏–≤ –¥–∞–Ω–Ω—ã—Ö –≤—Ä–∞—á–µ–π (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –∏–∑ Excel)
   var doctors = [
      {
        name: "–°–æ—Ñ—å—è –ë–æ–≥–¥–∞–Ω–æ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "cryovet.png",
        photo: "bogdanova.png",
        clinic: "–ö—Ä–∏–æ–≤–µ—Ç",
        address: "–ü—É—à–∫–∏–Ω –ú–æ—Å–∫–æ–≤—Å–∫–∞—è 10",
        lat: 59.721363,
        lng: 30.401954,
        phone: "+79213945667",
        site: "https://cryovet.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π –∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–≤—ã–µ–∑–¥ –≤ —Ä–µ–≥–∏–æ–Ω—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞<br>-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω—ã–µ —É—Å–ª—É–≥–∏<br>-–ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤<br>"
      },
      {
        name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ó–∞–º—è—Ç–∏–Ω–∞",
        city: "–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥",
        clinic_logo: "veteco.png",
        photo: "zamiyatina.png",
        clinic: "–í–µ—Ç–≠–∫–æ",
        address: "–†–æ–¥–∏–æ–Ω–æ–≤–∞ 193",
        lat: 56.301844,
        lng: 44.076147,
        phone: "+79012487829",
        site: "https://vet-eko.ru/",
        title: "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å, –≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ú–∞–Ω—Ç–æ—Ä–æ–≤–∞",
        city: "–ú–∏–Ω—Å–∫",
        clinic_logo: "bazylevskiy.png",
        photo: "mantorova.png",
        clinic: "–¥–æ–∫—Ç–æ—Ä–∞ –ë–∞–∑—ã–ª–µ–≤—Å–∫–æ–≥–æ –ê.–ê.",
        address: "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∞—è 31",
        lat: 53.873812,
        lng: 27.502037,
        phone: "+375333263000",
        site: "https://minsk.vet-centre.by/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ö–∞–º–µ–Ω—Å–∫–∞—è",
        city: "–°–∞–º–∞—Ä–∞",
        clinic_logo: "crocozoo.png",
        photo: "kamenskaya.png",
        clinic: "–ö—Ä–æ–∫–æ–∑–æ–æ",
        address: "–°–∞–º–∞—Ä–∞ –õ–µ–Ω–∏–Ω–∞ 1",
        lat: 53.204967,
        lng: 50.132739,
        phone: "+79677620010",
        site: "https://crocozoo.ru/",
        title: "–≥–ª–∞–≤–Ω—ã–π –≤—Ä–∞—á, –≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ú–∞—Ä–∏–Ω–∞ –°–∞–∂–Ω–µ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "doctorgil.png",
        photo: "sajneva.png",
        clinic: "–¥–æ–∫—Ç–æ—Ä–∞ –ì–∏–ª—å",
        address: "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–æ–≤ 70",
        lat: 59.972196,
        lng: 30.435014,
        phone: "+79311094880",
        site: "https://gilvet.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ö–æ—Ä–º–∞–∫–æ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "doctorpets.png",
        photo: "kormakova.png",
        clinic: "Dr.Pets",
        address: "–ö–æ–ª–ª–æ–Ω—Ç–∞–π 30",
        lat: 59.924440,
        lng: 30.483934,
        phone: "+78126467626",
        site: "https://dr-pets.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–¢–∞—Ç—å—è–Ω–∞ –ö–∞–ª–º—ã–∫–æ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "vega.png",
        photo: "kalmykova.png",
        clinic: "–í–µ–≥–∞",
        address: "–ü—É–ª–∫–æ–≤—Å–∫–∞—è 11",
        lat: 59.838007,
        lng: 30.348725,
        phone: "+78124997701",
        site: "https://vegavet.spb.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–Ω–Ω–∞ –í–∞—Å–∏–ª–µ–≤—Å–∫–∞—è",
        city: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
        clinic_logo: "interra.png",
        photo: "vasilevskaya.png",
        clinic: "–ò–Ω–¢–µ—Ä—Ä–∞",
        address: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –í—ã—Å—Ç–∞–≤–æ—á–Ω–∞—è 15",
        lat: 54.993255,
        lng: 82.892859,
        phone: "+73833830949",
        site: "https://vet-interra.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–°–≤–µ—Ç–ª–∞–Ω–∞ –°–µ–Ω—á—É–∫–æ–≤–∞",
        city: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
        clinic_logo: "interra.png",
        photo: "senchukova.png",
        clinic: "–ò–Ω–¢–µ—Ä—Ä–∞",
        address: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –í—ã—Å–æ—Ü–∫–æ–≥–æ 49",
        lat: 55.029920,
        lng: 83.020497,
        phone: "+73833830949",
        site: "https://vet-interra.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ò—Ä–∏–Ω–∞ –°–æ–∫–∏—Ä–∫–æ",
        city: "–û–º—Å–∫",
        clinic_logo: "aveta.png",
        photo: "sokirko.png",
        clinic: "–ê–≤–µ—Ç–∞",
        address: "–û–º—Å–∫ 10 –ª–µ—Ç –û–∫—Ç—è–±—Ä—è 141",
        lat: 54.987021,
        lng: 73.416386,
        phone: "+79136718689",
        site: "https://avetaomsk.orgs.biz/",
        title: "–≥–ª–∞–≤–Ω—ã–π –≤—Ä–∞—á, –≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–ª–µ–∫—Å–µ–π –°–º—ã—á–∫–æ–≤",
        city: "–†–∏–≥–∞",
        clinic_logo: "kalnberzs.png",
        photo: "",
        clinic: "Kalnbƒìrzs",
        address: "Slokas iela 163a",
        lat: 56.959893,
        lng: 24.031668,
        phone: "+37167425686",
        site: "https://vet-klinika.lv",
        title: "–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤—Ä–∞—á–∞-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥–∞ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–¢–∞—Ç—å—è–Ω–∞ –ü—Ä–æ—Ö–æ—Ä–æ–≤–∞",
        city: "–í–æ—Ä–æ–Ω–µ–∂",
        clinic_logo: "zdoroviezivotnyh.png",
        photo: "prohorova.png",
        clinic: "–ó–¥–æ—Ä–æ–≤—å–µ –ñ–∏–≤–æ—Ç–Ω—ã—Ö",
        address: "–í–æ—Ä–æ–Ω–µ–∂ –í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è 44",
        lat: 51.650237,
        lng: 39.268304,
        phone: "+79525566588",
        site: "https://zdorovet.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ú–∞—Ä–∏—è –ë–æ–≥–∞—á–µ–≤–∞",
        city: "–í–ª–∞–¥–∏–º–∏—Ä",
        clinic_logo: "dobriydoctor.png",
        photo: "bogacheva.png",
        clinic: "–î–æ–±—Ä—ã–π –î–æ–∫—Ç–æ—Ä",
        address: "–í–ª–∞–¥–∏–º–∏—Ä –õ—É–Ω–∞—á–∞—Ä—Å–∫–æ–≥–æ 23",
        lat: 56.137003,
        lng: 40.415575,
        phone: "+74922771424",
        site: "https://dobrydoctora.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –°–ª–∏–∂–µ–≤—Å–∫–∞—è",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "altervet.png",
        photo: "slijevskaya.png",
        clinic: "–ê–ª—å—Ç–µ—Ä–≤–µ—Ç",
        address: "–•—É–¥–æ–∂–Ω–∏–∫–æ–≤ 11",
        lat: 60.036190,
        lng: 30.346180,
        phone: "+78126144040",
        site: "https://altervet.com/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏ ",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      // –î–æ–±–∞–≤—å –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –≤—Ä–∞—á–µ–π –≤—Ä—É—á–Ω—É—é –ø–æ —à–∞–±–ª–æ–Ω—É
    ]; 
      // ‚úÖ –í–°–¢–ê–í–¨ –ü–†–û–í–ï–†–ö–£ –ó–î–ï–°–¨:
  if (!window.ol || !ol.Map) {
    alert("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ OpenLayers. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ CDN.");
    throw new Error("OpenLayers –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω");
  }
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã (OpenLayers)
const map = new ol.Map({
  target: 'map',
  layers: [
    new ol.layer.Tile({
      source: new ol.source.OSM()
    })
  ],
  view: new ol.View({
    center: ol.proj.fromLonLat([50.5, 56.5]),
    zoom: 4
  })
});
// –ú–µ–Ω—è–µ–º –∫—É—Ä—Å–æ—Ä –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ –º–∞—Ä–∫–µ—Ä
map.on('pointermove', function (evt) {
  const hit = map.hasFeatureAtPixel(evt.pixel);
  map.getTargetElement().style.cursor = hit ? 'pointer' : '';
});

// –≠–ª–µ–º–µ–Ω—Ç –¥–ª—è pop-up
const container = document.createElement('div');
container.className = 'ol-popup';
document.body.appendChild(container);

// Overlay ‚Äî –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ
const overlay = new ol.Overlay({
  element: container,
  autoPan: true,
  autoPanAnimation: { duration: 250 }
});
map.addOverlay(overlay);

// –°–ª–æ–π –¥–ª—è –≤—Ä–∞—á–µ–π
const vectorLayer = new ol.layer.Vector({
  source: new ol.source.Vector()
});
map.addLayer(vectorLayer);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –∫–∞—Ä—Ç–µ
map.on('click', function(evt) {
  overlay.setPosition(undefined);
  map.forEachFeatureAtPixel(evt.pixel, function(feature) {
    const coord = feature.getGeometry().getCoordinates();
    container.innerHTML = feature.get('popupContent');
    overlay.setPosition(coord);
    return true;
  });
});

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤—Ä–∞—á–µ–π –Ω–∞ –∫–∞—Ä—Ç—É
doctors.forEach(function(doctor) {
  const feature = new ol.Feature({
    geometry: new ol.geom.Point(ol.proj.fromLonLat([doctor.lng, doctor.lat])),
    popupContent: createPopupHTML(doctor)
  });

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±—ä–µ–∫—Ç doctor –≤–Ω—É—Ç—Ä–∏ feature
  feature.set('doctor', doctor);

  // –î–æ–±–∞–≤–ª—è–µ–º feature –≤ —Å–ª–æ–π
  vectorLayer.getSource().addFeature(feature);
});

// –í—ã–∑–æ–≤ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –±—É–ª–∞–≤–æ–∫
updateIconScales();



// üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∏–ª—è –∏–∫–æ–Ω–æ–∫ (–±—É–ª–∞–≤–æ–∫) –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–∞—Å—à—Ç–∞–±–∞ –∫–∞—Ä—Ç—ã
function updateIconScales() {
  // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞—Ä—Ç—ã
  const zoom = map.getView().getZoom();

  // –í—ã—á–∏—Å–ª—è–µ–º –º–∞—Å—à—Ç–∞–± –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±—É–ª–∞–≤–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑—É–º–∞
  // –ë–∞–∑–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è + —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –ø—Ä–∏ –∑—É–º–µ
  const scale = Math.max(0.2, 0.4 + (zoom - 3) * 0.08); // üîß –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–æ–≥–æ/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞

  // –ü—Ä–æ—Ö–æ–¥–∏–º—Å—è –ø–æ –≤—Å–µ–º –æ–±—ä–µ–∫—Ç–∞–º (–≤—Ä–∞—á–∞–º) –Ω–∞ –∫–∞—Ä—Ç–µ
  vectorLayer.getSource().getFeatures().forEach(feature => {
    // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –≤—Ä–∞—á–µ, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ —ç—Ç–æ–π –±—É–ª–∞–≤–∫–µ
    const doctor = feature.get('doctor');
    if (!doctor) return; // –µ—Å–ª–∏ –Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö ‚Äî –ø—Ä–æ–ø—É—Å–∫–∞–µ–º

    // –§–æ—Ä–º–∏—Ä—É–µ–º URL –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é –ª–æ–≥–æ—Ç–∏–ø–∞ –∫–ª–∏–Ω–∏–∫–∏
    const iconUrl = "https://artemm77.github.io/graduates-map/" + (doctor.clinic_logo || "default.png");

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –µ—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ª–æ–≥–æ—Ç–∏–ø—ã
    let imgSize = [128, 128]; // ‚úÖ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä
    if (doctor.clinic_logo === "cryovet.png" || doctor.clinic_logo === "kalnberzs.png") {
      imgSize = [753, 1195]; // ‚úÖ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã PNG-—Ñ–∞–π–ª–æ–≤
    }

    // –°–æ–∑–¥–∞—ë–º –Ω–æ–≤—ã–π —Å—Ç–∏–ª—å –∏–∫–æ–Ω–∫–∏ —Å –º–∞—Å—à—Ç–∞–±–æ–º –∏ zIndex
    const newStyle = new ol.style.Style({
      image: new ol.style.Icon({
        anchor: [0.5, 1],           // üìç —è–∫–æ—Ä—å —Å–Ω–∏–∑—É –ø–æ —Ü–µ–Ω—Ç—Ä—É ‚Äî —á—Ç–æ–±—ã "—Ö–≤–æ—Å—Ç–∏–∫" —É–∫–∞–∑—ã–≤–∞–ª —Ç–æ—á–Ω–æ –Ω–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
        src: iconUrl,               // üîó –ø—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
        scale: scale,               // üî¢ —Ç–µ–∫—É—â–∏–π –º–∞—Å—à—Ç–∞–±, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∑—É–º–∞
        crossOrigin: 'anonymous',   // üåê —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
        imgSize: imgSize            // üìè —Ä–µ–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã PNG ‚Äî –≤–∞–∂–Ω—ã –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
      }),
      zIndex: Math.round(10000 - doctor.lat * 100) // üß≠ —á–µ–º —é–∂–Ω–µ–µ, —Ç–µ–º –≤—ã—à–µ ‚Äî –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤
    });

    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å—Ç–∏–ª—å –∫ —Ç–µ–∫—É—â–µ–π –±—É–ª–∞–≤–∫–µ
    feature.setStyle(newStyle);
  });
}


// –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–º–∞—Å—à—Ç–∞–±–∞)
map.getView().on('change:resolution', updateIconScales);



    // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
    function logDoctorView(doctorName, eventType = "card_opened") {
     const url = "https://script.google.com/macros/s/AKfycbyFyGbiTvE-9CnTgMKBYxx70cXgtXiaE3KW1-2GzMuPVTvRz5FasnQ7aOdkq2hnB9t1/exec";
     fetch(url, {
      method: "POST",
      mode: "no-cors",
      headers: {
       "Content-Type": "application/json"
      },
      body: JSON.stringify({
      name: doctorName,
      event: eventType,
      timestamp: new Date().toISOString()
      })
    }).catch(() => {});
  }

    function createPopupHTML(doctor) {
      logDoctorView(doctor.name);
      const isMobile = window.innerWidth < 768;

      const contactButtons = `
        <a href="https://yandex.ru/maps/?text=${doctor.address}" target="_blank" style="background: white; border: 1px solid #ccc; border-radius: 6px; padding: 8px 10px; font-size: 10px; text-decoration: none; color: black; text-align: center;">${doctor.address}</a>
        <a href="tel:${doctor.phone}" style="background: white; border: 1px solid #ccc; border-radius: 6px; padding: 8px 10px; font-size: 10px; text-decoration: none; color: black; text-align: center;">üìû ${doctor.phone}</a>
        <a href="${doctor.site}" target="_blank" style="background: white; border: 1px solid #ccc; border-radius: 6px; padding: 8px 10px; font-size: 10px; text-decoration: none; color: black; text-align: center;">üåê –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç</a>
      `;

      const iconsBlock = `
        <div style="margin-top: 10px; text-align: center;">
          <div style="display: flex; justify-content: center; gap: 12px;">
            <a href="yandexnavi://build_route_on_map?lat_to=${doctor.lat}&lon_to=${doctor.lng}" title="–Ø–Ω–¥–µ–∫—Å.–ù–∞–≤–∏–≥–∞—Ç–æ—Ä">
              <img src="https://artemm77.github.io/graduates-map/yandex.png" alt="–ù–∞–≤–∏–≥–∞—Ç–æ—Ä" style="width: 50px; height: 50px;" />
            </a>
            <a href="https://wa.me/${doctor.phone.replace(/[^0-9]/g, '')}" target="_blank" title="WhatsApp">
              <img src="https://artemm77.github.io/graduates-map/whatsapp.png" alt="WhatsApp" style="width: 50px; height: 50px;" />
            </a>
            <a href="https://t.me/${doctor.phone.replace(/[^0-9]/g, '')}" target="_blank" title="Telegram">
              <img src="https://artemm77.github.io/graduates-map/telegram.png" alt="Telegram" style="width: 50px; height: 50px;" />
            </a>
          </div>
        </div>
      `;

      if (isMobile) {
        return `
          <div style="display: flex; flex-direction: column; gap: 15px; width: 100%; max-width: 80vw; max-height: 80vh; overflow-y: auto; font-size: 13px; color: #222; font-family: sans-serif;">
            <style> ::-webkit-scrollbar { display: none; } </style>
            ${doctor.photo ? `<img src="https://artemm77.github.io/graduates-map/${doctor.photo}" style="width: 100%; border-radius: 4px;" />` : ""}
            <div>
              <h3 style="margin: 0; font-size: 15px;">${doctor.name}</h3>
              <p style="margin: 0;">${doctor.title}<br><strong>${doctor.clinic}</strong></p>
            </div>
            <p style="margin: 0;">
              <span style="text-decoration: underline;">–£—Å–ª—É–≥–∏ –ø–æ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏–∏:</span><br>
              ${doctor.services}
            </p>
            <div style="display: flex; flex-direction: column; gap: 8px; align-items: stretch;">
              ${contactButtons}
            </div>
            ${iconsBlock}
          </div>
        `;
      } else {
        return `
          <div style="display: flex; flex-direction: row; gap: 20px; width: 100%; max-width: 500px; font-size: 13px; color: #222; font-family: sans-serif;">
            <div style="flex: 1.3;">
              ${doctor.photo ? `<img src="https://artemm77.github.io/graduates-map/${doctor.photo}" style="width: 100%; border-radius: 4px;" />` : ""}
              <div style="display: flex; flex-direction: column; gap: 8px; margin-top: 15px;">
                ${contactButtons}
              </div>
              ${iconsBlock}
            </div>
            <div style="flex: 1.7;">
              <h3 style="margin: 0; font-size: 15px;">${doctor.name}</h3>
              <p style="margin: 0;">${doctor.title}<br><strong>${doctor.clinic}</strong></p>
              <p style="margin-top: 10px;">
                <span style="text-decoration: underline;">–£—Å–ª—É–≥–∏ –ø–æ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏–∏:</span><br>
                ${doctor.services}
              </p>
            </div>
          </div>
        `;
      }
    }
  </script>
</body>
</html>