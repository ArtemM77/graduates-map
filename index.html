<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ì–¥–µ –∑–∞–º–æ—Ä–æ–∑–∏—Ç—å —Å–ø–µ—Ä–º—É –∫–æ–±–µ–ª—è?</title>
  <link rel="icon" type="image/png" href="https://artemm77.github.io/graduates-map/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/ol@7.4.0/ol.css">
  <script src="https://unpkg.com/ol@7.4.0/dist/ol.js"></script>
  <style>
    html, body { margin: 0; padding: 0; height: 100%; }
    #map { width: 100%; height: 100%; }
    .ol-popup {
      position: absolute;
      background-color: white;
      padding: 15px;
      border: 1px solid #ccc;
      bottom: 12px;
      left: -50px;
      min-width: 250px;
      max-width: 90vw;
      box-shadow: 0 1px 4px rgba(0,0,0,0.2);
      font-family: sans-serif;
      font-size: 13px;
      color: #222;
      overflow-y: auto;
      max-height: 80vh;
    }
    .ol-popup:after, .ol-popup:before {
      top: 100%;
      border: solid transparent;
      content: " ";
      height: 0;
      width: 0;
      position: absolute;
      pointer-events: none;
    }
    .ol-popup:after {
      border-top-color: white;
      border-width: 10px;
      left: 48px;
      margin-left: -10px;
    }
    .contact-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin: 15px 0;
    justify-content: center;
  }

  .contact-buttons a {
    flex: 1 1 calc(33% - 10px);
    min-width: 80px;
    text-align: center;
    background-color: #f5f5f5;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 8px;
    font-size: 13px;
    text-decoration: none;
    color: #222;
  }

  .messenger-icons {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    gap: 10px;
  }

  @media (min-width: 768px) {
    .contact-buttons {
      justify-content: flex-start;
    }
  }
  </style>
</head>
<body>
  <div id="map"></div>
  <div id="popup" class="ol-popup" style="display: none;"></div>
  <script>
    const doctors = [
      {
        name: "–°–æ—Ñ—å—è –ë–æ–≥–¥–∞–Ω–æ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "cryovet.png",
        photo: "bogdanova.png",
        clinic: "–ö—Ä–∏–æ–≤–µ—Ç",
        address: "–ü—É—à–∫–∏–Ω –ú–æ—Å–∫–æ–≤—Å–∫–∞—è 10",
        lat: 59.721363,
        lng: 30.401954,
        phone: "+79213945667",
        site: "https://cryovet.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–¥–æ—Å—Ç–∞–≤–∫–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π –∏ –∑–∞–º–æ—Ä–æ–∂–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–≤—ã–µ–∑ –≤ —Ä–µ–≥–∏–æ–Ω—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞<br>-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ç–∏–≤–Ω—ã–µ —É—Å–ª—É–≥–∏<br>-–ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤<br>"
      },
      {
        name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ó–∞–º—è—Ç–∏–Ω–∞",
        city: "–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥",
        clinic_logo: "veteco.png",
        photo: "zamiyatina.png",
        clinic: "–í–µ—Ç–≠–∫–æ",
        address: "–†–æ–¥–∏–æ–Ω–æ–≤–∞ 193",
        lat: 56.301844,
        lng: 44.076147,
        phone: "+79012487829",
        site: "https://vet-eko.ru/",
        title: "—Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å, –≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ú–∞–Ω—Ç–æ—Ä–æ–≤–∞",
        city: "–ú–∏–Ω—Å–∫",
        clinic_logo: "bazylevskiy.png",
        photo: "mantorova.png",
        clinic: "–¥–æ–∫—Ç–æ—Ä–∞ –ë–∞–∑—ã–ª–µ–≤—Å–∫–æ–≥–æ –ê.–ê.",
        address: "–ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω–∞—è 31",
        lat: 53.873812,
        lng: 27.502037,
        phone: "+375333263000",
        site: "https://minsk.vet-centre.by/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –ö–∞–º–µ–Ω—Å–∫–∞—è",
        city: "–°–∞–º–∞—Ä–∞",
        clinic_logo: "crocozoo.png",
        photo: "kamenskaya.png",
        clinic: "–ö—Ä–æ–∫–æ–∑–æ–æ",
        address: "–°–∞–º–∞—Ä–∞ –õ–µ–Ω–∏–Ω–∞ 1",
        lat: 53.204967,
        lng: 50.132739,
        phone: "+79677620010",
        site: "https://crocozoo.ru/",
        title: "–≥–ª–∞–≤–Ω—ã–π –≤—Ä–∞—á, –≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ú–∞—Ä–∏–Ω–∞ –°–∞–∂–Ω–µ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "doctorgil.png",
        photo: "sajneva.png",
        clinic: "–¥–æ–∫—Ç–æ—Ä–∞ –ì–∏–ª—å",
        address: "–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–æ–≤ 70",
        lat: 59.972196,
        lng: 30.435014,
        phone: "+79311094880",
        site: "https://gilvet.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–Ω–∞—Å—Ç–∞—Å–∏—è –ö–æ—Ä–º–∞–∫–æ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "doctorpets.png",
        photo: "kormakova.png",
        clinic: "Dr.Pets",
        address: "–ö–æ–ª–ª–æ–Ω—Ç–∞–π 30",
        lat: 59.924440,
        lng: 30.483934,
        phone: "+78126467626",
        site: "https://dr-pets.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–¢–∞—Ç—å—è–Ω–∞ –ö–∞–ª–º—ã–∫–æ–≤–∞",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "vega.png",
        photo: "kalmykova.png",
        clinic: "–í–µ–≥–∞",
        address: "–ü—É–ª–∫–æ–≤—Å–∫–∞—è 11",
        lat: 59.838007,
        lng: 30.348725,
        phone: "+78124997701",
        site: "https://vegavet.spb.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–Ω–Ω–∞ –í–∞—Å–∏–ª–µ–≤—Å–∫–∞—è",
        city: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
        clinic_logo: "interra.png",
        photo: "vasilevskaya.png",
        clinic: "–ò–Ω–¢–µ—Ä—Ä–∞",
        address: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –í—ã—Å—Ç–∞–≤–æ—á–Ω–∞—è 15",
        lat: 54.993255,
        lng: 82.892859,
        phone: "+73833830949",
        site: "https://vet-interra.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–°–≤–µ—Ç–ª–∞–Ω–∞ –°–µ–Ω—á—É–∫–æ–≤–∞",
        city: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫",
        clinic_logo: "interra.png",
        photo: "senchukova.png",
        clinic: "–ò–Ω–¢–µ—Ä—Ä–∞",
        address: "–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫ –í—ã—Å–æ—Ü–∫–æ–≥–æ 49",
        lat: 55.029920,
        lng: 83.020497,
        phone: "+73833830949",
        site: "https://vet-interra.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ò—Ä–∏–Ω–∞ –°–æ–∫–∏—Ä–∫–æ",
        city: "–û–º—Å–∫",
        clinic_logo: "aveta.png",
        photo: "sokirko.png",
        clinic: "–ê–≤–µ—Ç–∞",
        address: "–û–º—Å–∫ 10 –ª–µ—Ç –û–∫—Ç—è–±—Ä—è 141",
        lat: 54.987021,
        lng: 73.416386,
        phone: "+79136718689",
        site: "https://avetaomsk.orgs.biz/",
        title: "–≥–ª–∞–≤–Ω—ã–π –≤—Ä–∞—á, –≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ê–ª–µ–∫—Å–µ–π –°–º—ã—á–∫–æ–≤",
        city: "–†–∏–≥–∞",
        clinic_logo: "kalnberzs.png",
        photo: "",
        clinic: "Kalnbƒìrzs",
        address: "Slokas iela 163a",
        lat: 56.959893,
        lng: 24.031668,
        phone: "+37167425686",
        site: "https://vet-klinika.lv",
        title: "–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤—Ä–∞—á–∞-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥–∞ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–¢–∞—Ç—å—è–Ω–∞ –ü—Ä–æ—Ö–æ—Ä–æ–≤–∞",
        city: "–í–æ—Ä–æ–Ω–µ–∂",
        clinic_logo: "zdoroviezivotnyh.png",
        photo: "prohorova.png",
        clinic: "–ó–¥–æ—Ä–æ–≤—å–µ –ñ–∏–≤–æ—Ç–Ω—ã—Ö",
        address: "–í–æ—Ä–æ–Ω–µ–∂ –í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è 44",
        lat: 51.650237,
        lng: 39.268304,
        phone: "+79525566588",
        site: "https://zdorovet.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ —Å–µ—Ç–∏ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω—ã—Ö –∫–ª–∏–Ω–∏–∫",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ú–∞—Ä–∏—è –ë–æ–≥–∞—á–µ–≤–∞",
        city: "–í–ª–∞–¥–∏–º–∏—Ä",
        clinic_logo: "dobriydoctor.png",
        photo: "bogacheva.png",
        clinic: "–î–æ–±—Ä—ã–π –î–æ–∫—Ç–æ—Ä",
        address: "–í–ª–∞–¥–∏–º–∏—Ä –õ—É–Ω–∞—á–∞—Ä—Å–∫–æ–≥–æ 23",
        lat: 56.137003,
        lng: 40.415575,
        phone: "+74922771424",
        site: "https://dobrydoctora.ru/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      {
        name: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –°–ª–∏–∂–µ–≤—Å–∫–∞—è",
        city: "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
        clinic_logo: "altervet.png",
        photo: "slijevskaya.png",
        clinic: "–ê–ª—å—Ç–µ—Ä–≤–µ—Ç",
        address: "–•—É–¥–æ–∂–Ω–∏–∫–æ–≤ 11",
        lat: 60.036190,
        lng: 30.346180,
        phone: "+78126144040",
        site: "https://altervet.com/",
        title: "–≤—Ä–∞—á-—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–ª–æ–≥ –≤–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–π –∫–ª–∏–Ω–∏–∫–∏ ",
        services: "-—Å–ø–µ—Ä–º–æ–≥—Ä–∞–º–º–∞<br>-–ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–Ω–æ–π —Å–ø–µ—Ä–º—ã<br>-–∫—Ä–∏–æ–∫–æ–Ω—Å–µ—Ä–≤–∞—Ü–∏—è —Å–ø–µ—Ä–º—ã<br>-–∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Å–µ–º–µ–Ω–µ–Ω–∏–µ<br>-—É—Å–ª—É–≥–∏ –∫—Ä–∏–æ–±–∞–Ω–∫–∞"
      },
      // –æ—Å—Ç–∞–ª—å–Ω—ã–µ –≤—Ä–∞—á–∏ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏...
    ];

    const view = new ol.View({
  center: ol.proj.fromLonLat([50.5, 56.5]),
  zoom: 4
});

const map = new ol.Map({
  target: 'map',
  layers: [
    new ol.layer.Tile({ source: new ol.source.OSM() })
  ],
  view: view
});


    const container = document.getElementById('popup');
    const overlay = new ol.Overlay({ element: container, autoPan: true, autoPanAnimation: { duration: 250 } });
    map.addOverlay(overlay);

    function logDoctorView(name) {
      fetch("https://script.google.com/macros/s/AKfycbyFyGbiTvE-9CnTgMKBYxx70cXgtXiaE3KW1-2GzMuPVTvRz5FasnQ7aOdkq2hnB9t1/exec", {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, event: "card_opened", timestamp: new Date().toISOString() })
      }).catch(() => {});
    }

    function createPopupHTML(d) {
  const phoneDigits = d.phone.replace(/[^0-9]/g, '');

  const contactButtons = `
    <div class="contact-buttons">
      <a href="https://yandex.ru/maps/?text=${encodeURIComponent(d.address)}" target="_blank">üìç –ê–¥—Ä–µ—Å</a>
      <a href="tel:${d.phone}">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</a>
      <a href="${d.site}" target="_blank">üåê –°–∞–π—Ç</a>
    </div>
  `;

  const icons = `
    <div class="messenger-icons">
      <a href="yandexnavi://build_route_on_map?lat_to=${d.lat}&lon_to=${d.lng}" title="–Ø–Ω–¥–µ–∫—Å.–ù–∞–≤–∏–≥–∞—Ç–æ—Ä">
        <img src="https://artemm77.github.io/graduates-map/yandex.png" width="40" height="40">
      </a>
      <a href="https://wa.me/${phoneDigits}" target="_blank" title="WhatsApp">
        <img src="https://artemm77.github.io/graduates-map/whatsapp.png" width="40" height="40">
      </a>
      <a href="https://t.me/${phoneDigits}" target="_blank" title="Telegram">
        <img src="https://artemm77.github.io/graduates-map/telegram.png" width="40" height="40">
      </a>
    </div>`;

  return `
    <div style="max-width: 90vw;">
      <img src="https://artemm77.github.io/graduates-map/${d.photo}" style="width: 100%; border-radius: 4px; margin-bottom: 10px;" />
      <h3>${d.name}</h3>
      <p>${d.title}<br><strong>${d.clinic}</strong></p>
      <p><u>–£—Å–ª—É–≥–∏ –ø–æ —Ä–µ–ø—Ä–æ–¥—É–∫—Ü–∏–∏:</u><br>${d.services}</p>
      ${contactButtons}
      ${icons}
    </div>
  `;
}

// 1. –°–Ω–∞—á–∞–ª–∞ –æ–±—ä—è–≤–ª—è–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫ –∏ —Å–ª–æ–π
const vectorSource = new ol.source.Vector();
const vectorLayer = new ol.layer.Vector({ source: vectorSource });
map.addLayer(vectorLayer);

// 2. –î–æ–±–∞–≤–ª—è–µ–º –±—É–ª–∞–≤–∫–∏ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –º–∞—Å—à—Ç–∞–±–æ–º
doctors.forEach(d => {
  const feature = new ol.Feature({
    geometry: new ol.geom.Point(ol.proj.fromLonLat([d.lng, d.lat])),
    doctor: d
  });

  // –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º –º–∞—Å—à—Ç–∞–±–æ–º –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑—É–º–∞
  feature.setStyle(function (resolution) {
    const zoom = view.getZoomForResolution(resolution) || 4; // fallback
    const baseScale = 0.015;
    const scale = baseScale * zoom;

    return new ol.style.Style({
      image: new ol.style.Icon({
        src: `https://artemm77.github.io/graduates-map/${d.clinic_logo || 'default.png'}`,
        anchor: [0.42, 1],
        anchorXUnits: 'fraction',
        anchorYUnits: 'fraction',
        scale: scale
      }),
      zIndex: Math.round(d.lat * 1000) // —é–∂–Ω–µ–µ = –≤—ã—à–µ
    });
  });

  // ‚ùó –í–ù–ï —Ñ—É–Ω–∫—Ü–∏–∏ setStyle
  vectorSource.addFeature(feature);
});

    map.on('click', function (evt) {
      const feature = map.forEachFeatureAtPixel(evt.pixel, f => f);
      if (feature) {
        const d = feature.get('doctor');
        container.innerHTML = createPopupHTML(d);
        overlay.setPosition(evt.coordinate);
        container.style.display = 'block';
        logDoctorView(d.name);
      } else {
        overlay.setPosition(undefined);
        container.style.display = 'none';
      }
      // –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–ø–∞–ø –ø—Ä–∏ –ª—é–±–æ–º –∫–∞—Å–∞–Ω–∏–∏ –≤–Ω–µ –º–∞—Ä–∫–µ—Ä–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
if ('ontouchstart' in window) {
  setTimeout(() => {
    document.addEventListener('touchstart', function hidePopupOnTouch(evt) {
      if (!container.contains(evt.target)) {
        overlay.setPosition(undefined);
        container.style.display = 'none';
        document.removeEventListener('touchstart', hidePopupOnTouch);
      }
    });
  }, 0);
}
    });
  </script>
</body>
</html>